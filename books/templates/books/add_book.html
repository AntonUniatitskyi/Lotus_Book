{% extends "books/base.html" %}
{% load widget_tweaks %}
{% block title %}Добавить книгу{% endblock %}

{% block content %}
<section class="registration-section max-w-md mx-auto p-4 complain-card border border-black shadow-xl rounded-xl">
    <form method="post" class="complain-card rounded-2xl p-6">
        <h1 class="form-title text-2xl font-bold text-center text-gray-800">Добавить книгу</h1>
        {% csrf_token %}

        <!-- Название книги -->
        <div class="relative mt-4">
            <label for="id_title" class="block text-sm font-medium text-gray-700 mb-1">Название книги</label>
            {{ form.title|add_class:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:ring-blue-400 focus:border-blue-400" }}
            <ion-icon name="book-outline" class="absolute right-3 top-10 text-xl text-gray-400"></ion-icon>
        </div>

        <!-- Автор -->
        <div class="relative mt-4">
            <label for="id_author" class="block text-sm font-medium text-gray-700 mb-1">Автор</label>
            {{ form.author|add_class:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:ring-blue-400 focus:border-blue-400" }}
            <ion-icon name="person-outline" class="absolute right-3 top-10 text-xl text-gray-400"></ion-icon>
        </div>

        <!-- Факт об авторе -->
        <div class="relative mt-4">
            <label for="id_text_author" class="block text-sm font-medium text-gray-700 mb-1">Факт об авторе</label>
            {{ form.text_author|add_class:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:ring-blue-400 focus:border-blue-400 resize-none" }}
            <ion-icon name="information-circle-outline" class="absolute right-3 top-10 text-xl text-gray-400"></ion-icon>
        </div>

        <!-- Кнопка отправки -->
        <button type="submit"
                class="mt-6 w-full py-3 px-4 bg-green-500 text-white hover:bg-green-600 font-semibold rounded-xl shadow-md transition">
            Сохранить книгу
        </button>
    </form>

    <!-- Ошибки формы -->
    {% if form.errors %}
        <ul class="error-list mt-6 space-y-2 text-red-500 text-sm">
            {% for field in form %}
                {% for error in field.errors %}
                    <li><strong>{{ field.label }}:</strong> {{ error }}</li>
                {% endfor %}
            {% endfor %}
            {% for error in form.non_field_errors %}
                <li>{{ error }}</li>
            {% endfor %}
        </ul>
    {% endif %}
</section>

<!-- Ionicons -->
<script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
{% endblock %}
